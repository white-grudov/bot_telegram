# Telegram-bot для генерации случайного текста

<p>
 <img src="https://camo.githubusercontent.com/c917c2ec3ee2436b2b29d756c450401e6435df7857662e6f1c6db4c38e1f96fd/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d47504c25323076332d79656c6c6f772e737667">
  <img src="https://camo.githubusercontent.com/0d9843800c726f67fc3f55f705d076bbf35c5cbfc02ac059503e45e1eb5958d7/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f7974326d70332e737667">

> Создано на подобии [нейродемотиваторов](https://vk.com/neurodemotivators), а также [шмалалы](https://shmalala.com)

Объясняю предысторию. Я сидел в беседе ВК, где был бот "нейродемотиваторы" (линк выше), но вскоре мы всей беседой перебрались в телеграм, а аналогов этому боту я не нашёл. Пришлось писать свой.

### Начало

Для начала, нужно было разобраться, как вообще работают телеграм боты. Для написания я выбрал язык Python и библиотеку [pytelegrambotapi (telebot)](https://github.com/eternnoir/pyTelegramBotAPI). Также я заранее определился с функционалом бота:

- с определённой вероятностью генерировать демотиватор на основе сообщений, фотографий и стикеров группы
- по такому же принципу генерировать текстовое сообщение
- делать два предыдущих действия командами
- создавать демотиваторы со своими текстом и картинкой

Изначально был написал простенький бот, который считывал сообщения беседы, и сохранял текст в отдельный документ:

```python
import telebot
import random

bot = telebot.Telebot(<API>)

# Открывает файл на запись и новой строкой записывает каждое новое сообщение
def write_to_file(text):
  f = open('messages.txt', 'a')
  f.write(text + '\n')
  f.close()
  
@bot.message_handler(content_types=['text'])
def new_message(message):
  write_to_file(message.text)
  
 bot.polling()  # Для постоянной работы бота
 ```
 
 > to be continued... (автор ушёл спать)
